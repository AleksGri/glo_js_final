(()=>{"use strict";function e(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i,o,r,s,l,a,c,d,u,y;document.querySelector(".top-menu").addEventListener("click",(function(e){e.preventDefault();var t,n,i=e.target;(i=i.closest("a"))&&(t=i.href.substring(i.href.indexOf("#")),n=document.querySelector(t).getBoundingClientRect(),window.scrollTo(n.left,n.top+window.scrollY-100))})),c=document.querySelectorAll(".fancyboxModal"),d=document.querySelector("#callback"),u=document.querySelector(".modal-overlay"),y=function(){var e=function(e,t){d.style.opacity="".concat(e,"%");var n=document.querySelector(".tel"),i=document.querySelector(".fio");n.style.border="2px solid #E3E3E4",i.style.border="2px solid #E3E3E4",function n(){setTimeout((function(){"block"===t?(d.style.display=t,u.style.display=t,e+=10,d.style.opacity="".concat(e,"%"),u.style.opacity="".concat(e,"%"),e<100&&n()):(e-=10,d.style.opacity="".concat(e,"%"),u.style.opacity="".concat(e,"%"),e>0?n():(d.style.display=t,u.style.display=t))}),50)}()};d.style.display&&"none"!==d.style.display?window.innerWidth<768?d.style.display="none":e(100,"none"):window.innerWidth<768?d.style.display="block":e(0,"block")},c.forEach((function(e){e.addEventListener("click",(function(){y(),d.addEventListener("click",(function(e){var t=e.target;(t=t.closest("div")).classList.contains("modal-close")&&y()})),u.addEventListener("click",(function(e){var t=e.target;(t=t.closest("#callback"))||y()}))}))})),s=document.querySelector("#services"),l=document.querySelector(".up"),a=document.querySelector(".top-slider"),window.addEventListener("scroll",(function(){s.getBoundingClientRect().y<100?l.style.display="block":l.style.display="none"})),l.addEventListener("mousedown",(function(e){r=!0,function e(){setTimeout((function(){window.scrollBy(0,-50),a.getBoundingClientRect().y<0&&r&&e()}),50)}()})),l.addEventListener("mouseup",(function(e){r=!0})),function(){var e=document.querySelectorAll(".item"),t=(document.querySelector(".top-slider"),1),n=0;e[t-1].childNodes[1].style.opacity="100%",e[t-1].childNodes[1].style.visibility="visible";var i=function(){e[t].childNodes[1].style.opacity="100%",e[t].childNodes[1].style.visibility="visible",e[t].style.display="block",e[n].style.display="none",(t+=1)>2&&(t=0),(n+=1)>2&&(n=0)};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(i,e)}()}(),new(function(){function i(e){var t=e.main,n=e.wrap,o=e.next,r=e.prev,s=e.infinity,l=void 0!==s&&s,a=e.position,c=void 0===a?0:a,d=e.slidesToShow,u=void 0===d?3:d,y=e.responsive,h=void 0===y?[]:y;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t&&n||console.warn('slider-carousel: Необходимо 2 свойства, "main" и "wrap"!'),this.main=document.querySelector(t),this.wrap=document.querySelector(n),this.slides=document.querySelector(n).children,this.next=document.querySelector(o),this.prev=document.querySelector(r),this.slidesToShow=u,this.options={position:c,infinity:l,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=h}var o,r;return o=i,(r=[{key:"init",value:function(){this.addGloClass(),this.addStyle(),this.prev&&this.next,this.controlSlider(),this.responsive&&this.responsiveInit()}},{key:"addGloClass",value:function(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");var t,n=function(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=e(t))){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var e=i.next();return l=e.done,e},e:function(e){a=!0,s=e},f:function(){try{l||null==i.return||i.return()}finally{if(a)throw s}}}}(this.slides);try{for(n.s();!(t=n.n()).done;)t.value.classList.add("glo-slider__item")}catch(e){n.e(e)}finally{n.f()}}},{key:"addStyle",value:function(){var e=document.getElementById("sliderCarousel-style");e||((e=document.createElement("style")).id="sliderCarousel-style"),e.textContent="\n          .glo-slider{\n            overflow: hidden !important;\n          }\n          .glo-slider__wrap{\n            display: flex !important;\n            transition: transform 0.5s !important;\n            will-change: transform !important;\n          }\n          .glo-slider__item{\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex: 0 0 ".concat(this.options.widthSlide,"% !important;\n            margin: auto 0 !important;\n          }\n        "),document.head.appendChild(e)}},{key:"controlSlider",value:function(){this.next.addEventListener("click",this.nextSlider.bind(this)),this.prev.addEventListener("click",this.prevSlider.bind(this))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}},{key:"nextSlider",value:function(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"))}},{key:"responsiveInit",value:function(){var n,i=this,o=this.slidesToShow,r=this.responsive.map((function(e){return e.breakpoint})),s=Math.max.apply(Math,function(e){if(Array.isArray(e))return t(e)}(n=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=function(){var e=document.documentElement.clientWidth;if(e<s)for(var t=0;t<r.length;t++)e<r[t]&&(i.slidesToShow=i.responsive[t].slideToShow,i.options.widthSlide=Math.floor(100/i.slidesToShow),i.addStyle());else i.slidesToShow=o,i.options.widthSlide=Math.floor(100/i.slidesToShow),i.addStyle()};l(),window.addEventListener("resize",l)}}])&&n(o.prototype,r),i}())({main:".services-elements",wrap:".services-carousel",next:".arrow-right",prev:".arrow-left",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]}).init(),o=document.querySelector(".accordeon"),Array.from(o.children).forEach((function(e,t){e.addEventListener("click",(function(){for(var e=0;e<o.children.length;e++)e===t?(o.children[e].classList.add("active"),o.children[e].children[1].style.display="block"):(o.children[e].classList.remove("active"),o.children[e].children[1].style.display="none")}))})),(i=document.querySelector("form")).addEventListener("input",(function(e){!function(e){var t=e.target,n=t.value,i=t.name;t.value=function(e,t){switch(t){case"fio":return e.replace(/[^а-яё ,!?\d\-\.]/gi,"");case"tel":return e.replace(/[^0-9+]/g,"")}}(n,i)}(e)})),i.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.children[0].children[0],n=e.target.children[1].children[0],i=e.target;t.style.border="2px solid #E3E3E4",n.style.border="2px solid #E3E3E4",""!==t.value?""!==n.value?function(e,t){e.preventDefault();var n=document.createElement("div"),i=new FormData(t),o={};n.style.color="#000",t.append(n),i.forEach((function(e,t){o[t]=e})),n.textContent="Загрузка...",function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"Application/json"},body:JSON.stringify(e)})}(o).then((function(e){if(200!==e.status)throw new Error("Network status is not 200");n.textContent="Спасибо!!! Мы скоро с Вами свяжемся..."})).catch((function(e){n.textContent="Что-то пошло не так...",console.error(e)})).finally((function(){t.reset(),setInterval((function(){n.remove()}),3e3)}))}(e,i):n.style.border="solid 2px red":t.style.border="solid 2px red"}))})();